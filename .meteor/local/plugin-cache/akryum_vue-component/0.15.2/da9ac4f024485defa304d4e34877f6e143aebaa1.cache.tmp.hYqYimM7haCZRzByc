{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){var _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar mapMutations;\nmodule.link(\"vuex\", {\n  mapMutations: function (v) {\n    mapMutations = v;\n  }\n}, 0);\nmodule.exportDefault({\n  name: \"Login\",\n  data: function () {\n    return {\n      user: {\n        userOrEmail: null,\n        password: null\n      }\n    };\n  },\n  methods: _objectSpread({}, mapMutations('auth', ['setUser']), {\n    login: function () {\n      var _this = this;\n\n      Meteor.loginWithPassword(this.user.userOrEmail, this.user.password, function (error) {\n        if (error) {\n          if (error.error === '403') {\n            _this.$alert.showAlertFull('mid-close-circle', 'warning', error.reason, '', 5000, 'centred', 'bottom');\n          } else {\n            _this.$alert.showAlertSimple('error', 'Credenciales incorrectas');\n          }\n        } else {\n          Meteor.logoutOtherClients(function (err) {\n            if (err) {\n              console.error('Error al cerrar sesion en otros dispositivos');\n            }\n          });\n\n          _this.setUser(Meteor.user());\n\n          _this.$router.push({\n            name: 'home'\n          });\n        }\n      });\n    }\n  })\n});\n})();","map":{"version":3,"sources":["imports/ui/views/Auth/Login.vue"],"names":["_objectSpread","module","link","default","v","mapMutations","exportDefault","name","data","user","userOrEmail","password","methods","login","Meteor","loginWithPassword","error","$alert","showAlertFull","reason","showAlertSimple","logoutOtherClients","err","console","setUser","$router","push"],"mappings":";;;;;;;;;;;;;qBAwBA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,cAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,WAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA;AAFA;AADA,KAAA;AAMA,GATA;AAUA,EAAA,OAAA,oBACA,YAAA,CAAA,MAAA,EAAA,CAAA,SAAA,CAAA,CADA;AAEA,IAAA,KAFA,cAEA;AAAA;;AACA,MAAA,MAAA,CAAA,iBAAA,CAAA,KAAA,IAAA,CAAA,WAAA,EAAA,KAAA,IAAA,CAAA,QAAA,EAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,cAAA,KAAA,CAAA,KAAA,KAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,aAAA,CAAA,kBAAA,EAAA,SAAA,EAAA,KAAA,CAAA,MAAA,EAAA,EAAA,EAAA,IAAA,EAAA,SAAA,EAAA,QAAA;AACA,WAFA,MAEA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,eAAA,CAAA,OAAA,EAAA,0BAAA;AACA;AAEA,SAPA,MAOA;AACA,UAAA,MAAA,CAAA,kBAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA,EAAA;AACA,cAAA,OAAA,CAAA,KAAA,CAAA,8CAAA;AACA;AACA,WAJA;;AAKA,UAAA,KAAA,CAAA,OAAA,CAAA,MAAA,CAAA,IAAA,EAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA,OAjBA;AAmBA;AAtBA;AAVA","sourcesContent":["<template>\n    <div class=\"login-wrapper\">\n        <div class=\"title secondary--text\">Bienvenido!</div>\n        <div class=\"display-1 mb-0 secondary--text\">Iniciar sesión</div>\n        <v-form @submit.prevent=\"login\" autocomplete=\"nope\">\n            <v-text-field id=\"inputUser\" v-model=\"user.userOrEmail\" autocomplete=\"off\"\n                          label=\"Usuario\" name=\"email\" prepend-icon=\"person\" color=\"primary\" type=\"text\">\n            </v-text-field>\n            <v-text-field id=\"inputPassword\" label=\"Contraseña\" name=\"password\" prepend-icon=\"lock\"\n                          v-model=\"user.password\" type=\"password\">\n            </v-text-field>\n            <div class=\"d-flex justify-end\">\n                <v-btn color=\"primary\" text :to=\"{name:'forgotPassword'}\" small>¿Olvidé mi contraseña?</v-btn>\n            </div>\n            <div class=\"d-flex justify-start\">\n                <v-btn type=\"submit\" rounded color=\"primary\" transition=\"fade\">Entrar</v-btn>\n            </div>\n        </v-form>\n    </div>\n</template>\n\n<script>\nimport {mapMutations} from 'vuex';\n\n    export default {\n        name: \"Login\",\n        data() {\n            return {\n                user: {\n                    userOrEmail: null,\n                    password: null\n                }\n            }\n        },\n        methods: {\n          ...mapMutations('auth',['setUser']),\n            login() {\n                Meteor.loginWithPassword(this.user.userOrEmail,this.user.password,error=>{\n                  if(error) {\n                    if(error.error==='403') {\n                      this.$alert.showAlertFull('mid-close-circle','warning',error.reason,'',5000,'centred','bottom');\n                    }else{\n                      this.$alert.showAlertSimple('error','Credenciales incorrectas');\n                    }\n\n                  }else{\n                    Meteor.logoutOtherClients(err=>{\n                      if(err) {\n                        console.error('Error al cerrar sesion en otros dispositivos')\n                      }\n                    });\n                    this.setUser(Meteor.user());\n                    this.$router.push({name:'home'});\n                  }\n                });\n\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .login-wrapper {\n        margin-top: 45px;\n    }\n</style>"],"file":"imports/ui/views/Auth/Login.vue"},"styles":[{"css":"\n.login-wrapper[data-v-93246f08] {\n    margin-top: 45px;\n}\n","map":{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AACA;IACI,gBAAgB;AACpB","file":"Login.vue","sourcesContent":["\n.login-wrapper {\n    margin-top: 45px;\n}\n"]}}],"template":"\n<div class=\"login-wrapper\">\n    <div class=\"title secondary--text\">Bienvenido!</div>\n    <div class=\"display-1 mb-0 secondary--text\">Iniciar sesión</div>\n    <v-form @submit.prevent=\"login\" autocomplete=\"nope\">\n        <v-text-field id=\"inputUser\" v-model=\"user.userOrEmail\" autocomplete=\"off\"\n                      label=\"Usuario\" name=\"email\" prepend-icon=\"person\" color=\"primary\" type=\"text\">\n        </v-text-field>\n        <v-text-field id=\"inputPassword\" label=\"Contraseña\" name=\"password\" prepend-icon=\"lock\"\n                      v-model=\"user.password\" type=\"password\">\n        </v-text-field>\n        <div class=\"d-flex justify-end\">\n            <v-btn color=\"primary\" text :to=\"{name:'forgotPassword'}\" small>¿Olvidé mi contraseña?</v-btn>\n        </div>\n        <div class=\"d-flex justify-start\">\n            <v-btn type=\"submit\" rounded color=\"primary\" transition=\"fade\">Entrar</v-btn>\n        </div>\n    </v-form>\n</div>\n","hash":"data-v-93246f08"}