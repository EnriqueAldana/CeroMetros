{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){var _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar ModalRemove;\nmodule.link(\"../../components/Utilities/Modals/ModalRemove\", {\n  \"default\": function (v) {\n    ModalRemove = v;\n  }\n}, 0);\nvar Profile;\nmodule.link(\"../../../api/Profiles/Profile\", {\n  Profile: function (v) {\n    Profile = v;\n  }\n}, 1);\nvar mapMutations;\nmodule.link(\"vuex\", {\n  mapMutations: function (v) {\n    mapMutations = v;\n  }\n}, 2);\nmodule.exportDefault({\n  name: \"ListProfiles\",\n  components: {\n    ModalRemove: ModalRemove\n  },\n  data: function () {\n    return {\n      headers: [{\n        value: 'description',\n        text: 'Nombre del perfil',\n        sortable: true\n      }, {\n        value: 'action',\n        text: 'Opciones',\n        sortable: false\n      }],\n      profileTemp: {\n        preposition: 'el',\n        typeElement: 'perfil',\n        mainNameElement: '',\n        _id: null,\n        element: {}\n      }\n    };\n  },\n  methods: _objectSpread({}, mapMutations('temporal', ['setElement']), {\n    openEditProfile: function (profile) {\n      //Guardar en Vuex\n      this.setElement(profile);\n      this.$router.push({\n        name: 'home.profiles.edit'\n      });\n    },\n    openRemoveModal: function (profile) {\n      this.profileTemp.element = profile;\n      this.profileTemp._id = profile._id;\n      this.profileTemp.mainNameElement = profile.description;\n      this.profileTemp.element = profile;\n      this.$refs.refModalRemove.dialog = true;\n    },\n    deleteProfile: function (idProfile) {\n      var _this = this;\n\n      this.$loader.activate('Eliminando perfil...');\n      Meteor.call('profile.delete', {\n        idProfile: idProfile\n      }, function (error, response) {\n        _this.$loader.deactivate();\n\n        if (error) {\n          if (error.details) {\n            _this.$alert.showAlertFull('warning', 'error', error.reason, 'multi-line', '5000', 'right', 'bottom', error.details);\n          } else {\n            _this.$alert.showAlertSimple('error', 'Ocurrio un error al eliminar el perfil');\n          }\n        } else {\n          _this.$alert.showAlertSimple('success', response.message);\n        }\n      });\n    }\n  }),\n  meteor: {\n    $subscribe: {\n      'notStaticProfile.list': []\n    },\n    profiles: function () {\n      return Profile.find().fetch();\n    }\n  }\n});\n})();","map":{"version":3,"sources":["imports/ui/views/Profiles/ListProfiles.vue"],"names":["_objectSpread","module","link","default","v","ModalRemove","Profile","mapMutations","exportDefault","name","components","data","headers","value","text","sortable","profileTemp","preposition","typeElement","mainNameElement","_id","element","methods","openEditProfile","profile","setElement","$router","push","openRemoveModal","description","$refs","refModalRemove","dialog","deleteProfile","idProfile","$loader","activate","Meteor","call","error","response","deactivate","details","$alert","showAlertFull","reason","showAlertSimple","message","meteor","$subscribe","profiles","find","fetch"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;qBA6CA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,cAKA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CACA;AAAA,QAAA,KAAA,EAAA,aAAA;AAAA,QAAA,IAAA,EAAA,mBAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,KAAA,EAAA,QAAA;AAAA,QAAA,IAAA,EAAA,UAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAFA,CADA;AAKA,MAAA,WAAA,EAAA;AACA,QAAA,WAAA,EAAA,IADA;AAEA,QAAA,WAAA,EAAA,QAFA;AAGA,QAAA,eAAA,EAAA,EAHA;AAIA,QAAA,GAAA,EAAA,IAJA;AAKA,QAAA,OAAA,EAAA;AALA;AALA,KAAA;AAaA,GAnBA;AAoBA,EAAA,OAAA,oBACA,YAAA,CAAA,UAAA,EAAA,CAAA,YAAA,CAAA,CADA;AAEA,IAAA,eAFA,YAEA,OAFA,EAEA;AACA;AACA,WAAA,UAAA,CAAA,OAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KANA;AAOA,IAAA,eAPA,YAOA,OAPA,EAOA;AACA,WAAA,WAAA,CAAA,OAAA,GAAA,OAAA;AACA,WAAA,WAAA,CAAA,GAAA,GAAA,OAAA,CAAA,GAAA;AACA,WAAA,WAAA,CAAA,eAAA,GAAA,OAAA,CAAA,WAAA;AACA,WAAA,WAAA,CAAA,OAAA,GAAA,OAAA;AACA,WAAA,KAAA,CAAA,cAAA,CAAA,MAAA,GAAA,IAAA;AACA,KAbA;AAcA,IAAA,aAdA,YAcA,SAdA,EAcA;AAAA;;AACA,WAAA,OAAA,CAAA,QAAA,CAAA,sBAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,gBAAA,EAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAAA,EAAA,UAAA,KAAA,EAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,UAAA;;AACA,YAAA,KAAA,EAAA;AACA,cAAA,KAAA,CAAA,OAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,aAAA,CAAA,SAAA,EAAA,OAAA,EAAA,KAAA,CAAA,MAAA,EAAA,YAAA,EAAA,MAAA,EAAA,OAAA,EAAA,QAAA,EAAA,KAAA,CAAA,OAAA;AACA,WAFA,MAEA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,eAAA,CAAA,OAAA,EAAA,wCAAA;AACA;AAEA,SAPA,MAOA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,eAAA,CAAA,SAAA,EAAA,QAAA,CAAA,OAAA;AACA;AACA,OAZA;AAcA;AA9BA,IApBA;AAoDA,EAAA,MAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,+BAAA;AADA,KADA;AAIA,IAAA,QAJA,cAIA;AACA,aAAA,OAAA,CAAA,IAAA,GAAA,KAAA,EAAA;AACA;AANA;AApDA","sourcesContent":["<template>\n  <v-container>\n    <v-row justify=\"center\">\n      <v-col xs=\"16\" sm=\"16\" md=\"14\" lg=\"12\" xl=\"9\">\n        <div class=\"d-flex flex-row-reverse mb-5\">\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-btn v-can:create.hide=\"'profiles'\" color=\"success\" v-on=\"on\" fab dark :to=\"{name:'home.profiles.create'}\">\n                <v-icon>add</v-icon>\n              </v-btn>\n            </template>\n            <span>Agregar perfil</span>\n          </v-tooltip>\n        </div>\n        <v-data-table :headers=\"headers\" :items=\"profiles\" @dblclick:row=\"(event,{item})=>openEditProfile(item)\"sort-by=\"name\" class=\"elevation-1\">\n          <template v-slot:item.action=\"{item}\">\n            <v-tooltip bottom>\n              <template v-slot:activator=\"{on}\">\n                <v-icon v-can:edit.hide=\"'profiles'\" color=\"info\" v-on=\"on\" small class=\"mr-2\" @click=\"openEditProfile(item)\">\n                  edit\n                </v-icon>\n              </template>\n              <span>Editar</span>\n            </v-tooltip>\n            <v-tooltip bottom>\n              <template v-slot:activator=\"{on}\">\n                <v-icon v-can:delete.hide=\"'profiles'\" color=\"error\" v-on=\"on\" small class=\"mr-2\" @click=\"openRemoveModal(item)\">\n                  delete\n                </v-icon>\n              </template>\n              <span>Eliminar</span>\n            </v-tooltip>\n          </template>\n        </v-data-table>\n      </v-col>\n    </v-row>\n    <modal-remove ref=\"refModalRemove\" v-bind:modalData=\"profileTemp\"\n                  @id_element=\"deleteProfile\"></modal-remove>\n  </v-container>\n</template>\n\n<script>\nimport ModalRemove from \"../../components/Utilities/Modals/ModalRemove\";\nimport {Profile} from \"../../../api/Profiles/Profile\";\nimport {mapMutations} from \"vuex\";\nexport default {\n  name: \"ListProfiles\",\n  components: {\n    ModalRemove\n  },\n  data() {\n    return {\n      headers: [\n        {value: 'description', text: 'Nombre del perfil', sortable: true},\n        {value: 'action', text: 'Opciones', sortable: false},\n      ],\n      profileTemp: {\n        preposition: 'el',\n        typeElement: 'perfil',\n        mainNameElement: '',\n        _id: null,\n        element: {}\n      }\n    }\n  },\n  methods: {\n    ...mapMutations('temporal',['setElement']),\n    openEditProfile(profile){\n      //Guardar en Vuex\n      this.setElement(profile);\n      this.$router.push({name: 'home.profiles.edit'});\n    },\n    openRemoveModal(profile) {\n      this.profileTemp.element = profile;\n      this.profileTemp._id = profile._id;\n      this.profileTemp.mainNameElement = profile.description;\n      this.profileTemp.element = profile;\n      this.$refs.refModalRemove.dialog = true;\n    },\n    deleteProfile(idProfile) {\n      this.$loader.activate('Eliminando perfil...');\n      Meteor.call('profile.delete',{idProfile},(error,response) => {\n        this.$loader.deactivate();\n        if(error){\n          if(error.details){\n            this.$alert.showAlertFull('warning','error',error.reason,'multi-line','5000','right','bottom',error.details);\n          }else{\n            this.$alert.showAlertSimple('error','Ocurrio un error al eliminar el perfil');\n          }\n\n        }else{\n          this.$alert.showAlertSimple('success',response.message);\n        }\n      });\n\n    }\n  },\n  meteor:{\n    $subscribe: {\n      'notStaticProfile.list':[]\n    },\n    profiles(){\n      return Profile.find().fetch();\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"file":"imports/ui/views/Profiles/ListProfiles.vue"},"styles":[{"css":"\n\n","map":{"version":3,"sources":[],"names":[],"mappings":"","file":"ListProfiles.vue"}}],"template":"\n<v-container>\n  <v-row justify=\"center\">\n    <v-col xs=\"16\" sm=\"16\" md=\"14\" lg=\"12\" xl=\"9\">\n      <div class=\"d-flex flex-row-reverse mb-5\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{on}\">\n            <v-btn v-can:create.hide=\"'profiles'\" color=\"success\" v-on=\"on\" fab dark :to=\"{name:'home.profiles.create'}\">\n              <v-icon>add</v-icon>\n            </v-btn>\n          </template>\n          <span>Agregar perfil</span>\n        </v-tooltip>\n      </div>\n      <v-data-table :headers=\"headers\" :items=\"profiles\" @dblclick:row=\"(event,{item})=>openEditProfile(item)\"sort-by=\"name\" class=\"elevation-1\">\n        <template v-slot:item.action=\"{item}\">\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-icon v-can:edit.hide=\"'profiles'\" color=\"info\" v-on=\"on\" small class=\"mr-2\" @click=\"openEditProfile(item)\">\n                edit\n              </v-icon>\n            </template>\n            <span>Editar</span>\n          </v-tooltip>\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-icon v-can:delete.hide=\"'profiles'\" color=\"error\" v-on=\"on\" small class=\"mr-2\" @click=\"openRemoveModal(item)\">\n                delete\n              </v-icon>\n            </template>\n            <span>Eliminar</span>\n          </v-tooltip>\n        </template>\n      </v-data-table>\n    </v-col>\n  </v-row>\n  <modal-remove ref=\"refModalRemove\" v-bind:modalData=\"profileTemp\"\n                @id_element=\"deleteProfile\"></modal-remove>\n</v-container>\n","hash":"data-v-226aa63a"}