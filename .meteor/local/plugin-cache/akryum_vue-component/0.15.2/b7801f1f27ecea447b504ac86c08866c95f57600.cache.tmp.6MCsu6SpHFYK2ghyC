{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){var _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar ModalRemove;\nmodule.link(\"../../components/Utilities/Modals/ModalRemove\", {\n  \"default\": function (v) {\n    ModalRemove = v;\n  }\n}, 0);\nvar WarehouseRepository;\nmodule.link(\"../../../api/Warehouses/Warehouse\", {\n  WarehouseRepository: function (v) {\n    WarehouseRepository = v;\n  }\n}, 1);\nvar mapMutations;\nmodule.link(\"vuex\", {\n  mapMutations: function (v) {\n    mapMutations = v;\n  }\n}, 2);\nmodule.exportDefault({\n  name: 'ListWarehouses',\n  components: {\n    ModalRemove: ModalRemove\n  },\n  data: function () {\n    return {\n      headersFilter: {\n        name: '',\n        name_full: '',\n        location: ''\n      },\n      warehouseTemp: {\n        preposition: 'el',\n        typeElement: ' almacen ',\n        mainNameElement: '',\n        _id: null,\n        element: {}\n      }\n    };\n  },\n  methods: _objectSpread({}, mapMutations('temporal', ['setElement']), {\n    openEditWarehouse: function (warehouse) {\n      //Guardar en Vuex para recuperar en la vistad de company.save\n      this.setElement(warehouse);\n      this.$router.push({\n        name: 'home.warehouse.edit'\n      });\n    },\n    openRemoveModal: function (warehouse) {\n      this.warehouseTemp.element = warehouse;\n      this.warehouseTemp._id = warehouse._id;\n      this.warehouseTemp.mainNameElement = warehouse.name;\n      this.$refs.refModalRemove.dialog = true;\n    },\n    deleteWarehouse: function (idWarehouse) {\n      var _this = this;\n\n      this.$loader.activate(\"Eliminando almacen....\");\n      Meteor.call('warehouse.delete', {\n        idWarehouse: idWarehouse\n      }, function (error, response) {\n        _this.$loader.deactivate();\n\n        if (error) {\n          _this.$alert.showAlertSimple('error', error.reason);\n        } else {\n          _this.$alert.showAlertSimple('success', response.message);\n        }\n      });\n    }\n  }),\n  computed: {\n    headers: function () {\n      var _this2 = this;\n\n      return [{\n        value: 'name',\n        text: 'Nombre',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.name.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'name_full',\n        text: 'Nombre completo',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.name_full.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'location',\n        text: 'Ubicacion',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.location.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'action',\n        text: 'Opciones',\n        sortable: false\n      }];\n    }\n  },\n  meteor: {\n    $subscribe: {\n      'warehouse.list': []\n    },\n    warehouses: function () {\n      return WarehouseRepository.find().fetch();\n    }\n  }\n});\n})();","map":{"version":3,"sources":["imports/ui/views/Warehouses/ListWarehouses.vue"],"names":["_objectSpread","module","link","default","v","ModalRemove","WarehouseRepository","mapMutations","exportDefault","name","components","data","headersFilter","name_full","location","warehouseTemp","preposition","typeElement","mainNameElement","_id","element","methods","openEditWarehouse","warehouse","setElement","$router","push","openRemoveModal","$refs","refModalRemove","dialog","deleteWarehouse","idWarehouse","$loader","activate","Meteor","call","error","response","deactivate","$alert","showAlertSimple","reason","message","computed","headers","value","text","sortable","filter","toString","toLocaleLowerCase","indexOf","meteor","$subscribe","warehouses","find","fetch"],"mappings":"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","sourcesContent":["<template>\n  <v-container>\n    <v-row justify=\"center\">\n      <v-col xs=\"16\" sm=\"16\" md=\"14\" lg=\"12\" xl=\"9\">\n        <div class=\"d-flex flex-row-reverse mb-5\">\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-btn v-can:create.hide=\"'warehouses'\" color=\"success\" v-on=\"on\" fab dark :to=\"{name:'home.warehouse.create'}\">\n                <v-icon>add</v-icon>\n              </v-btn>\n            </template>\n            <span>Agregar almacen</span>\n          </v-tooltip>\n        </div>\n        <v-data-table :headers=\"headers\" :items=\"warehouses\" @dblclick:row=\"(event,{item})=>openEditWarehouse(item)\"\n                      sort-by=\"name\" class=\"elevation-1\">\n          <template v-slot:item.action=\"{item}\">\n            <v-tooltip bottom>\n              <template v-slot:activator=\"{on}\">\n                <v-icon v-can:edit.hide=\"'warehouses'\" color=\"info\" v-on=\"on\" small class=\"mr-2\" @click=\"openEditWarehouse(item)\">\n                  edit\n                </v-icon>\n              </template>\n              <span>Editar</span>\n            </v-tooltip>\n            <v-tooltip bottom>\n              <template v-slot:activator=\"{on}\">\n                <v-icon v-can:delete.hide=\"'warehouses'\" color=\"error\" v-on=\"on\" small class=\"mr-2\" @click=\"openRemoveModal(item)\">\n                  delete\n                </v-icon>\n              </template>\n              <span>Eliminar</span>\n            </v-tooltip>\n          </template>\n          <template v-slot:body.append=\"{isMobile}\">\n            <tr v-if=\"!isMobile\">\n              <td>\n                <v-text-field v-model=\"headersFilter.name\" type=\"text\"\n                              label=\"Nombre\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.name_full\" type=\"text\"\n                              label=\"Nombre completo\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.location\" type=\"text\"\n                              label=\"Ubicacion\"></v-text-field>\n              </td>\n            </tr>\n          </template>\n        </v-data-table>\n     </v-col>\n    </v-row>\n    <modal-remove ref=\"refModalRemove\" v-bind:modalData=\"warehouseTemp\"\n                  @id_element=\"deleteWarehouse\"></modal-remove>\n  </v-container>\n</template>\n\n<script>\nimport ModalRemove from \"../../components/Utilities/Modals/ModalRemove\";\nimport {WarehouseRepository} from \"../../../api/Warehouses/Warehouse\";\nimport {mapMutations} from \"vuex\";\nexport default {\n        name: 'ListWarehouses',\n        components: {\n          ModalRemove\n        },\n        data() {\n          return {\n             headersFilter: {\n                  name: '',\n                  name_full: '',\n                  location: ''\n          },warehouseTemp: {\n              preposition: 'el',\n              typeElement: ' almacen ',\n              mainNameElement: '',\n              _id: null,\n              element: {}\n            }\n          }\n        },\n        methods: {\n          ...mapMutations('temporal',['setElement']),\n            openEditWarehouse(warehouse) {\n              //Guardar en Vuex para recuperar en la vistad de company.save\n              this.setElement(warehouse);\n              this.$router.push({name: 'home.warehouse.edit'});\n            },\n            openRemoveModal(warehouse) {\n              this.warehouseTemp.element = warehouse;\n              this.warehouseTemp._id = warehouse._id;\n              this.warehouseTemp.mainNameElement = warehouse.name;\n              this.$refs.refModalRemove.dialog = true;\n            },\n            deleteWarehouse(idWarehouse) {\n              this.$loader.activate(\"Eliminando almacen....\");\n              Meteor.call('warehouse.delete',{idWarehouse},(error,response)=>{\n                this.$loader.deactivate();\n                if(error){\n                  this.$alert.showAlertSimple('error',error.reason);\n                }else{\n                  this.$alert.showAlertSimple('success',response.message);\n                }\n              });\n            }\n        },\n        computed: {\n          headers() {\n            return [\n              {\n                value: 'name', text: 'Nombre', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.name.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {\n                value: 'name_full', text: 'Nombre completo', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.name_full.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {\n                value: 'location', text: 'Ubicacion', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.location.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {value: 'action', text: 'Opciones', sortable: false}\n            ]\n          }\n        },\n        meteor:{\n            $subscribe: {\n              'warehouse.list':[]\n            },\n            warehouses(){\n              return WarehouseRepository.find().fetch();\n            }\n        }  \n}\n</script>\n\n<style scoped>\n\n</style>"],"file":"imports/ui/views/Warehouses/ListWarehouses.vue"},"styles":[{"css":"\n\n","map":{"version":3,"sources":[],"names":[],"mappings":"","file":"ListWarehouses.vue"}}],"template":"\n<v-container>\n  <v-row justify=\"center\">\n    <v-col xs=\"16\" sm=\"16\" md=\"14\" lg=\"12\" xl=\"9\">\n      <div class=\"d-flex flex-row-reverse mb-5\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{on}\">\n            <v-btn v-can:create.hide=\"'warehouses'\" color=\"success\" v-on=\"on\" fab dark :to=\"{name:'home.warehouse.create'}\">\n              <v-icon>add</v-icon>\n            </v-btn>\n          </template>\n          <span>Agregar almacen</span>\n        </v-tooltip>\n      </div>\n      <v-data-table :headers=\"headers\" :items=\"warehouses\" @dblclick:row=\"(event,{item})=>openEditWarehouse(item)\"\n                    sort-by=\"name\" class=\"elevation-1\">\n        <template v-slot:item.action=\"{item}\">\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-icon v-can:edit.hide=\"'warehouses'\" color=\"info\" v-on=\"on\" small class=\"mr-2\" @click=\"openEditWarehouse(item)\">\n                edit\n              </v-icon>\n            </template>\n            <span>Editar</span>\n          </v-tooltip>\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-icon v-can:delete.hide=\"'warehouses'\" color=\"error\" v-on=\"on\" small class=\"mr-2\" @click=\"openRemoveModal(item)\">\n                delete\n              </v-icon>\n            </template>\n            <span>Eliminar</span>\n          </v-tooltip>\n        </template>\n        <template v-slot:body.append=\"{isMobile}\">\n          <tr v-if=\"!isMobile\">\n            <td>\n              <v-text-field v-model=\"headersFilter.name\" type=\"text\"\n                            label=\"Nombre\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.name_full\" type=\"text\"\n                            label=\"Nombre completo\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.location\" type=\"text\"\n                            label=\"Ubicacion\"></v-text-field>\n            </td>\n          </tr>\n        </template>\n      </v-data-table>\n   </v-col>\n  </v-row>\n  <modal-remove ref=\"refModalRemove\" v-bind:modalData=\"warehouseTemp\"\n                @id_element=\"deleteWarehouse\"></modal-remove>\n</v-container>\n","hash":"data-v-589a4063"}