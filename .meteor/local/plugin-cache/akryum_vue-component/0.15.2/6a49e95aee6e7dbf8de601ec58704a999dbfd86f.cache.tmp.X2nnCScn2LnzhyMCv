{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){var _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar ModalRemove;\nmodule.link(\"../../components/Utilities/Modals/ModalRemove\", {\n  \"default\": function (v) {\n    ModalRemove = v;\n  }\n}, 0);\nvar ProductionLineRepository;\nmodule.link(\"../../../api/ProductionLines/ProductionLine\", {\n  ProductionLineRepository: function (v) {\n    ProductionLineRepository = v;\n  }\n}, 1);\nvar mapMutations;\nmodule.link(\"vuex\", {\n  mapMutations: function (v) {\n    mapMutations = v;\n  }\n}, 2);\nmodule.exportDefault({\n  name: \"ListProductionLines\",\n  components: {\n    ModalRemove: ModalRemove\n  },\n  data: function () {\n    return {\n      desserts: [{\n        name: 'Frozen Yogurt',\n        calories: 159\n      }, {\n        name: 'Ice cream sandwich',\n        calories: 237\n      }, {\n        name: 'Eclair',\n        calories: 262\n      }, {\n        name: 'Cupcake',\n        calories: 305\n      }, {\n        name: 'Gingerbread',\n        calories: 356\n      }, {\n        name: 'Jelly bean',\n        calories: 375\n      }, {\n        name: 'Lollipop',\n        calories: 392\n      }, {\n        name: 'Honeycomb',\n        calories: 408\n      }, {\n        name: 'Donut',\n        calories: 452\n      }, {\n        name: 'KitKat',\n        calories: 518\n      }],\n      headers: [{\n        value: 'name',\n        text: 'Nombre de la linea de produccion',\n        sortable: true\n      }, {\n        value: 'description',\n        text: 'Descripcion',\n        sortable: true\n      }, {\n        value: 'workstations.name',\n        text: 'Estaciones de trabajo',\n        sortable: true\n      }, {\n        value: 'action',\n        text: 'Opciones',\n        sortable: false\n      }],\n      productionlinesTemp: {\n        preposition: 'la',\n        typeElement: 'linea de produccion',\n        mainNameElement: '',\n        _id: null,\n        element: {}\n      },\n      workstation: {\n        _id: '',\n        name: '',\n        name_full: '',\n        location: '',\n        productionline: {\n          _id: '',\n          name: '',\n          description: '',\n          workstations: [String]\n        }\n      }\n    };\n  },\n  created: function () {\n    console.info('productionlines');\n  },\n  methods: _objectSpread({}, mapMutations('temporal', ['setElement']), {\n    openEditProductionLine: function (productionline) {\n      //Guardar en Vuex\n      this.setElement(productionline);\n      this.$router.push({\n        name: 'home.productionlines.edit'\n      });\n    },\n    openRemoveModal: function (productionline) {\n      this.productionlinesTemp.element = productionline;\n      this.productionlinesTemp._id = productionline._id;\n      this.productionlinesTemp.mainNameElement = productionline.name;\n      this.$refs.refModalRemove.dialog = true;\n    },\n    deleteProductionLine: function (idProductionline) {\n      var _this = this;\n\n      this.$loader.activate('Eliminando linea de produccion...');\n      Meteor.call('productionline.delete', {\n        idProductionline: idProductionline\n      }, function (error, response) {\n        _this.$loader.deactivate();\n\n        if (error) {\n          if (error.details) {\n            _this.$alert.showAlertFull('warning', 'error', error.reason, 'multi-line', '5000', 'right', 'bottom', error.details);\n          } else {\n            _this.$alert.showAlertSimple('error', 'Ocurrio un error al eliminar la linea de produccion');\n          }\n        } else {\n          _this.$alert.showAlertSimple('success', response.message);\n        }\n      });\n    }\n  }),\n  meteor: {\n    $subscribe: {\n      'productionlines.list': []\n    },\n    productionlines: function () {\n      var productionLines = ProductionLineRepository.find().fetch();\n      console.log(productionLines);\n      return productionLines;\n    }\n  }\n});\n})();","map":{"version":3,"sources":["imports/ui/views/ProductionLines/ListProductionLines.vue"],"names":["_objectSpread","module","link","default","v","ModalRemove","ProductionLineRepository","mapMutations","exportDefault","name","components","data","desserts","calories","headers","value","text","sortable","productionlinesTemp","preposition","typeElement","mainNameElement","_id","element","workstation","name_full","location","productionline","description","workstations","String","created","console","info","methods","openEditProductionLine","setElement","$router","push","openRemoveModal","$refs","refModalRemove","dialog","deleteProductionLine","idProductionline","$loader","activate","Meteor","call","error","response","deactivate","details","$alert","showAlertFull","reason","showAlertSimple","message","meteor","$subscribe","productionlines","productionLines","find","fetch","log"],"mappings":"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","sourcesContent":["<template>\n  <v-container>\n    <v-row justify=\"center\">\n      <v-col xs=\"16\" sm=\"16\" md=\"14\" lg=\"12\" xl=\"9\">\n        <div class=\"d-flex flex-row-reverse mb-5\">\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-btn v-can:create.hide=\"'productionlines'\" color=\"success\" v-on=\"on\" fab dark :to=\"{name:'home.productionlines.create'}\">\n                <v-icon>add</v-icon>\n              </v-btn>\n            </template>\n            <span>Agregar linea de produccion</span>\n          </v-tooltip>\n        </div>\n        <v-data-table :headers=\"headers\" :items=\"productionlines\" @dblclick:row=\"(event,{item})=>openEditProductionLine(item)\"sort-by=\"name\" class=\"elevation-1\">\n          <template v-slot:item.workstations.name=\"{item}\">  \n              <template>\n                  <v-simple-table>\n                    <template v-slot:default>\n                      <tbody>\n                        <tr\n                          v-for=\"item in item.workstations\"\n                          :key=\"item.name\"\n                        >\n                          <td>{{ item.name }}</td> \n                        </tr>\n                      </tbody>\n                    </template>\n                  </v-simple-table>\n                </template>\n        </template>\n          <template v-slot:item.action=\"{item}\">\n            <v-tooltip bottom>\n              <template v-slot:activator=\"{on}\">\n                <v-icon v-can:edit.hide=\"'productionlines'\" color=\"info\" v-on=\"on\" small class=\"mr-2\" @click=\"openEditProductionLine(item)\">\n                  edit\n                </v-icon>\n              </template>\n              <span>Editar</span>\n            </v-tooltip>\n            <v-tooltip bottom>\n              <template v-slot:activator=\"{on}\">\n                <v-icon v-can:delete.hide=\"'productionlines'\" color=\"error\" v-on=\"on\" small class=\"mr-2\" @click=\"openRemoveModal(item)\">\n                  delete\n                </v-icon>\n              </template>\n              <span>Eliminar</span>\n            </v-tooltip>\n          </template>\n        </v-data-table>\n      </v-col>\n    </v-row>\n    <modal-remove ref=\"refModalRemove\" v-bind:modalData=\"productionlinesTemp\"\n                  @id_element=\"deleteProductionLine\"></modal-remove>\n  </v-container>\n</template>\n\n<script>\nimport ModalRemove from \"../../components/Utilities/Modals/ModalRemove\";\nimport {ProductionLineRepository} from \"../../../api/ProductionLines/ProductionLine\";\nimport {mapMutations} from \"vuex\";\nexport default {\n  name: \"ListProductionLines\",\n  components: {\n    ModalRemove\n  },\n  data() {\n    return {\n      desserts: [\n          {\n            name: 'Frozen Yogurt',\n            calories: 159,\n          },\n          {\n            name: 'Ice cream sandwich',\n            calories: 237,\n          },\n          {\n            name: 'Eclair',\n            calories: 262,\n          },\n          {\n            name: 'Cupcake',\n            calories: 305,\n          },\n          {\n            name: 'Gingerbread',\n            calories: 356,\n          },\n          {\n            name: 'Jelly bean',\n            calories: 375,\n          },\n          {\n            name: 'Lollipop',\n            calories: 392,\n          },\n          {\n            name: 'Honeycomb',\n            calories: 408,\n          },\n          {\n            name: 'Donut',\n            calories: 452,\n          },\n          {\n            name: 'KitKat',\n            calories: 518,\n          },\n        ],\n      headers: [\n        {value: 'name', text: 'Nombre de la linea de produccion', sortable: true},\n        {value: 'description', text: 'Descripcion', sortable: true},\n        {value: 'workstations.name', text: 'Estaciones de trabajo', sortable: true},\n        {value: 'action', text: 'Opciones', sortable: false},\n      ],\n      productionlinesTemp: {\n        preposition: 'la',\n        typeElement: 'linea de produccion',\n        mainNameElement: '',\n        _id: null,\n        element: {}\n      },\n      workstation: \n                    {\n                    _id: '',\n                    name: '',\n                    name_full: '',\n                    location: '',\n                    productionline:{\n                        _id:'',\n                        name: '',\n                        description: '',\n                        workstations:[String]\n                    }\n                    }\n                \n    }\n  },\n  created() {\n    console.info('productionlines');\n  },\n  methods: {\n    ...mapMutations('temporal',['setElement']),\n    openEditProductionLine(productionline){\n      //Guardar en Vuex\n      this.setElement(productionline);\n      this.$router.push({name: 'home.productionlines.edit'});\n    },\n    openRemoveModal(productionline) {\n      this.productionlinesTemp.element = productionline;\n      this.productionlinesTemp._id = productionline._id;\n      this.productionlinesTemp.mainNameElement = productionline.name;\n      this.$refs.refModalRemove.dialog = true;\n    },\n    deleteProductionLine(idProductionline) {\n      this.$loader.activate('Eliminando linea de produccion...');\n      Meteor.call('productionline.delete',{idProductionline},(error,response) => {\n        this.$loader.deactivate();\n        if(error){\n          if(error.details){\n            this.$alert.showAlertFull('warning','error',error.reason,'multi-line','5000','right','bottom',error.details);\n          }else{\n            this.$alert.showAlertSimple('error','Ocurrio un error al eliminar la linea de produccion');\n          }\n\n        }else{\n          this.$alert.showAlertSimple('success',response.message);\n        }\n      });\n\n    }\n  },\n  meteor:{\n    $subscribe: {\n      'productionlines.list':[]\n    },\n    productionlines(){\n      const productionLines= ProductionLineRepository.find().fetch();\n      console.log(productionLines);\n      return productionLines;\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"file":"imports/ui/views/ProductionLines/ListProductionLines.vue"},"styles":[{"css":"\n\n","map":{"version":3,"sources":[],"names":[],"mappings":"","file":"ListProductionLines.vue"}}],"template":"\n<v-container>\n  <v-row justify=\"center\">\n    <v-col xs=\"16\" sm=\"16\" md=\"14\" lg=\"12\" xl=\"9\">\n      <div class=\"d-flex flex-row-reverse mb-5\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{on}\">\n            <v-btn v-can:create.hide=\"'productionlines'\" color=\"success\" v-on=\"on\" fab dark :to=\"{name:'home.productionlines.create'}\">\n              <v-icon>add</v-icon>\n            </v-btn>\n          </template>\n          <span>Agregar linea de produccion</span>\n        </v-tooltip>\n      </div>\n      <v-data-table :headers=\"headers\" :items=\"productionlines\" @dblclick:row=\"(event,{item})=>openEditProductionLine(item)\"sort-by=\"name\" class=\"elevation-1\">\n        <template v-slot:item.workstations.name=\"{item}\">  \n            <template>\n                <v-simple-table>\n                  <template v-slot:default>\n                    <tbody>\n                      <tr\n                        v-for=\"item in item.workstations\"\n                        :key=\"item.name\"\n                      >\n                        <td>{{ item.name }}</td> \n                      </tr>\n                    </tbody>\n                  </template>\n                </v-simple-table>\n              </template>\n      </template>\n        <template v-slot:item.action=\"{item}\">\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-icon v-can:edit.hide=\"'productionlines'\" color=\"info\" v-on=\"on\" small class=\"mr-2\" @click=\"openEditProductionLine(item)\">\n                edit\n              </v-icon>\n            </template>\n            <span>Editar</span>\n          </v-tooltip>\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-icon v-can:delete.hide=\"'productionlines'\" color=\"error\" v-on=\"on\" small class=\"mr-2\" @click=\"openRemoveModal(item)\">\n                delete\n              </v-icon>\n            </template>\n            <span>Eliminar</span>\n          </v-tooltip>\n        </template>\n      </v-data-table>\n    </v-col>\n  </v-row>\n  <modal-remove ref=\"refModalRemove\" v-bind:modalData=\"productionlinesTemp\"\n                @id_element=\"deleteProductionLine\"></modal-remove>\n</v-container>\n","hash":"data-v-64853416"}