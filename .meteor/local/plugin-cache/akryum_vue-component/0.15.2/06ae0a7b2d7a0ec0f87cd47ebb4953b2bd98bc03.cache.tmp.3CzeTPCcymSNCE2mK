{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){var _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar ModalRemove;\nmodule.link(\"../../components/Utilities/Modals/ModalRemove\", {\n  \"default\": function (v) {\n    ModalRemove = v;\n  }\n}, 0);\nvar Product;\nmodule.link(\"../../../api/Products/Product\", {\n  Product: function (v) {\n    Product = v;\n  }\n}, 1);\nvar mapMutations;\nmodule.link(\"vuex\", {\n  mapMutations: function (v) {\n    mapMutations = v;\n  }\n}, 2);\nmodule.exportDefault({\n  name: 'ListProducts',\n  components: {\n    ModalRemove: ModalRemove\n  },\n  data: function () {\n    return {\n      headersFilter: {\n        isAvailable: '',\n        name: '',\n        name_full: '',\n        unit: {\n          _id: '',\n          name: ''\n        },\n        stock: '',\n        sku: '',\n        location: '',\n        warehouse: {\n          _id: '',\n          name: ''\n        },\n        provider: {\n          _id: '',\n          name: ''\n        },\n        production_line: {\n          _id: '',\n          name: ''\n        }\n      },\n      productTemp: {\n        preposition: 'el',\n        typeElement: 'producto',\n        mainNameElement: '',\n        _id: null,\n        element: {}\n      }\n    };\n  },\n  methods: _objectSpread({}, mapMutations('temporal', ['setElement']), {\n    openEditProduct: function (product) {\n      //Guardar en Vuex para recuperar en la vistad de product.save\n      this.setElement(product);\n      this.$router.push({\n        name: 'home.products.edit'\n      });\n    },\n    openRemoveModal: function (product) {\n      this.productTemp.element = product;\n      this.productTemp._id = product._id;\n      this.productTemp.mainNameElement = product.name;\n      this.$refs.refModalRemove.dialog = true;\n    },\n    deleteProduct: function (idProduct) {\n      var _this = this;\n\n      this.$loader.activate(\"Eliminando producto....\");\n      Meteor.call('product.delete', {\n        idProduct: idProduct\n      }, function (error, response) {\n        _this.$loader.deactivate();\n\n        if (error) {\n          _this.$alert.showAlertSimple('error', error.reason);\n        } else {\n          _this.$alert.showAlertSimple('success', response.message);\n        }\n      });\n    }\n  }),\n  computed: {\n    headers: function () {\n      var _this2 = this;\n\n      return [{\n        value: 'isAvailable',\n        text: 'Disponible',\n        sortable: true\n      }, {\n        value: 'name',\n        text: 'Nombre',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.name.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'name_full',\n        text: 'Nombre completo',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.name_full.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'unit.name',\n        text: 'Unidad',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.unit.name.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'stock',\n        text: 'Existencias',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.stock.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'sku',\n        text: 'SKU',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.sku.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'location',\n        text: 'Ubicacion',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.location.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'warehouse.name',\n        text: 'Almacen',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.warehouse.name.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'provider.name',\n        text: 'Proveedor',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.provider.name.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'production_line.name',\n        text: 'Linea de produccion',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.production_line.name.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'action',\n        text: 'Opciones',\n        sortable: false\n      }];\n    }\n  },\n  meteor: {\n    $subscribe: {\n      'product.list': []\n    },\n    products: function () {\n      var productList = Product.find({}, {\n        fields: {\n          isAvailable: 1,\n          name: 1,\n          name_full: 1,\n          stock: 1,\n          unit: 1,\n          sku: 1,\n          location: 1,\n          provider: 1,\n          warehouse: 1,\n          production_line: 1,\n          bom: 1\n        }\n      }).fetch();\n      console.info('productList', productList);\n      return productList;\n    }\n  }\n});\n})();","map":{"version":3,"sources":["imports/ui/views/Products/ListProducts.vue"],"names":["_objectSpread","module","link","default","v","ModalRemove","Product","mapMutations","exportDefault","name","components","data","headersFilter","isAvailable","name_full","unit","_id","stock","sku","location","warehouse","provider","production_line","productTemp","preposition","typeElement","mainNameElement","element","methods","openEditProduct","product","setElement","$router","push","openRemoveModal","$refs","refModalRemove","dialog","deleteProduct","idProduct","$loader","activate","Meteor","call","error","response","deactivate","$alert","showAlertSimple","reason","message","computed","headers","value","text","sortable","filter","toString","toLocaleLowerCase","indexOf","meteor","$subscribe","products","productList","find","fields","bom","fetch","console","info"],"mappings":"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","sourcesContent":["<template>\n  <v-container>\n    <v-row justify=\"center\">\n      <v-col xs=\"16\" sm=\"16\" md=\"14\" lg=\"12\" xl=\"9\">\n        <div class=\"d-flex flex-row-reverse mb-5\">\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-btn v-can:create.hide=\"'products'\" color=\"success\" v-on=\"on\" fab dark :to=\"{name:'home.products.create'}\">\n                <v-icon>add</v-icon>\n              </v-btn>\n            </template>\n            <span>Agregar producto</span>\n          </v-tooltip>\n        </div>\n        <v-data-table :headers=\"headers\" :items=\"products\" @dblclick:row=\"(event,{item})=>openEditProduct(item)\"\n                      sort-by=\"name\" class=\"elevation-1\">\n        <template v-slot:item.isAvailable=\"{item}\">\n            <div class=\"d-flex align-center pt-5 pb-5\">\n              <v-icon :color=\"item.isAvailable?'green' : 'red'\">\n                mdi-checkbox-blank-circle\n              </v-icon>\n            </div>\n          </template>\n          <template v-slot:item.action=\"{item}\">\n            <v-tooltip bottom>\n              <template v-slot:activator=\"{on}\">\n                <v-icon v-can:edit.hide=\"'products'\" color=\"info\" v-on=\"on\" small class=\"mr-2\" @click=\"openEditProduct(item)\">\n                  edit\n                </v-icon>\n              </template>\n              <span>Editar</span>\n            </v-tooltip>\n            <v-tooltip bottom>\n              <template v-slot:activator=\"{on}\">\n                <v-icon v-can:delete.hide=\"'products'\" color=\"error\" v-on=\"on\" small class=\"mr-2\" @click=\"openRemoveModal(item)\">\n                  delete\n                </v-icon>\n              </template>\n              <span>Eliminar</span>\n            </v-tooltip>\n          </template>\n          <template v-slot:body.append=\"{isMobile}\">\n            <tr v-if=\"!isMobile\">\n              <td>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.name\" type=\"text\"\n                              label=\"Nombre\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.name_full\" type=\"text\"\n                              label=\"Nombre completo\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.unit.name\" type=\"text\"\n                              label=\"Unidad\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.stock\" type=\"text\"\n                              label=\"Existencia\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.sku\" type=\"text\"\n                              label=\"SKU\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.location\" type=\"text\"\n                              label=\"Ubicacion\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.warehouse.name\" type=\"text\"\n                              label=\"Almacen\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.provider.name\" type=\"text\"\n                              label=\"Proveedor\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.production_line.name\" type=\"text\"\n                              label=\"Linea de produccion\"></v-text-field>\n              </td>\n            </tr>\n          </template>\n        </v-data-table>\n     </v-col>\n    </v-row>\n    <modal-remove ref=\"refModalRemove\" v-bind:modalData=\"productTemp\"\n                  @id_element=\"deleteProduct\"></modal-remove>\n  </v-container>\n</template>\n\n<script>\nimport ModalRemove from \"../../components/Utilities/Modals/ModalRemove\";\nimport {Product} from \"../../../api/Products/Product\";\nimport {mapMutations} from \"vuex\";\nexport default {\n        name: 'ListProducts',\n        components: {\n          ModalRemove\n        },\n        data() {\n          return {\n             headersFilter: {\n                  isAvailable: '',\n                  name: '',\n                  name_full: '',\n                  unit: {\n                    _id:'',\n                    name: ''\n                  },\n                  stock: '',\n                  sku: '',\n                  location: '',\n                  warehouse: {\n                    _id:'',\n                    name: ''\n                  },\n                  provider:{\n                    _id:'',\n                    name: ''\n                  },\n                  production_line:{\n                    _id:'',\n                    name: ''\n                  }\n          },\n            productTemp: {\n              preposition: 'el',\n              typeElement: 'producto',\n              mainNameElement: '',\n              _id: null,\n              element: {}\n            }\n          }\n        },\n        methods: {\n          ...mapMutations('temporal',['setElement']),\n            openEditProduct(product) {\n              //Guardar en Vuex para recuperar en la vistad de product.save\n              this.setElement(product);\n              this.$router.push({name: 'home.products.edit'});\n            },\n            openRemoveModal(product) {\n              \n              this.productTemp.element = product;\n              this.productTemp._id = product._id;\n              this.productTemp.mainNameElement = product.name;\n              this.$refs.refModalRemove.dialog = true;\n            },\n            deleteProduct(idProduct) {\n              this.$loader.activate(\"Eliminando producto....\");\n              Meteor.call('product.delete',{idProduct},(error,response)=>{\n                this.$loader.deactivate();\n                if(error){\n                  this.$alert.showAlertSimple('error',error.reason);\n                }else{\n                  this.$alert.showAlertSimple('success',response.message);\n                }\n              });\n            }\n        },\n        computed: {\n          headers() {\n            return [\n              {value: 'isAvailable', text: 'Disponible', sortable: true},\n              {\n                value: 'name', text: 'Nombre', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.name.toLocaleLowerCase()) !== -1;\n                }\n              },\n              \n              {\n                value: 'name_full', text: 'Nombre completo', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.name_full.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {\n                value: 'unit.name', text: 'Unidad', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.unit.name.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {\n                value: 'stock', text: 'Existencias', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.stock.toLocaleLowerCase()) !== -1;\n                }\n              },\n              \n              {\n                value: 'sku', text: 'SKU', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.sku.toLocaleLowerCase()) !== -1;\n                }\n              },\n              \n              {\n                value: 'location', text: 'Ubicacion', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.location.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {\n                value: 'warehouse.name', text: 'Almacen', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.warehouse.name.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {\n                value: 'provider.name', text: 'Proveedor', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.provider.name.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {\n                value: 'production_line.name', text: 'Linea de produccion', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.production_line.name.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {value: 'action', text: 'Opciones', sortable: false}\n            ]\n          }\n        },\n        meteor:{\n            $subscribe: {\n              'product.list':[]\n            },\n            products(){\n              const productList = Product.find({},{fields:{isAvailable:1,name:1,name_full:1,stock:1,unit:1,sku:1,location:1,provider:1,warehouse:1,production_line:1,bom:1}}).fetch();\n              console.info('productList',productList)\n              return productList;\n            }\n        }  \n}\n</script>\n\n<style scoped>\n\n</style>"],"file":"imports/ui/views/Products/ListProducts.vue"},"styles":[{"css":"\n\n","map":{"version":3,"sources":[],"names":[],"mappings":"","file":"ListProducts.vue"}}],"template":"\n<v-container>\n  <v-row justify=\"center\">\n    <v-col xs=\"16\" sm=\"16\" md=\"14\" lg=\"12\" xl=\"9\">\n      <div class=\"d-flex flex-row-reverse mb-5\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{on}\">\n            <v-btn v-can:create.hide=\"'products'\" color=\"success\" v-on=\"on\" fab dark :to=\"{name:'home.products.create'}\">\n              <v-icon>add</v-icon>\n            </v-btn>\n          </template>\n          <span>Agregar producto</span>\n        </v-tooltip>\n      </div>\n      <v-data-table :headers=\"headers\" :items=\"products\" @dblclick:row=\"(event,{item})=>openEditProduct(item)\"\n                    sort-by=\"name\" class=\"elevation-1\">\n      <template v-slot:item.isAvailable=\"{item}\">\n          <div class=\"d-flex align-center pt-5 pb-5\">\n            <v-icon :color=\"item.isAvailable?'green' : 'red'\">\n              mdi-checkbox-blank-circle\n            </v-icon>\n          </div>\n        </template>\n        <template v-slot:item.action=\"{item}\">\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-icon v-can:edit.hide=\"'products'\" color=\"info\" v-on=\"on\" small class=\"mr-2\" @click=\"openEditProduct(item)\">\n                edit\n              </v-icon>\n            </template>\n            <span>Editar</span>\n          </v-tooltip>\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-icon v-can:delete.hide=\"'products'\" color=\"error\" v-on=\"on\" small class=\"mr-2\" @click=\"openRemoveModal(item)\">\n                delete\n              </v-icon>\n            </template>\n            <span>Eliminar</span>\n          </v-tooltip>\n        </template>\n        <template v-slot:body.append=\"{isMobile}\">\n          <tr v-if=\"!isMobile\">\n            <td>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.name\" type=\"text\"\n                            label=\"Nombre\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.name_full\" type=\"text\"\n                            label=\"Nombre completo\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.unit.name\" type=\"text\"\n                            label=\"Unidad\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.stock\" type=\"text\"\n                            label=\"Existencia\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.sku\" type=\"text\"\n                            label=\"SKU\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.location\" type=\"text\"\n                            label=\"Ubicacion\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.warehouse.name\" type=\"text\"\n                            label=\"Almacen\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.provider.name\" type=\"text\"\n                            label=\"Proveedor\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.production_line.name\" type=\"text\"\n                            label=\"Linea de produccion\"></v-text-field>\n            </td>\n          </tr>\n        </template>\n      </v-data-table>\n   </v-col>\n  </v-row>\n  <modal-remove ref=\"refModalRemove\" v-bind:modalData=\"productTemp\"\n                @id_element=\"deleteProduct\"></modal-remove>\n</v-container>\n","hash":"data-v-54bbc323"}