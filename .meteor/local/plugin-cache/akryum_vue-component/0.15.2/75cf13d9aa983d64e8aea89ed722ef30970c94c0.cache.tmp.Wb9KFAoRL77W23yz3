{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){module.exportDefault({\n  name: \"SaveCompany\",\n  data: function () {\n    return {\n      company: {\n        _id: null,\n        name: null,\n        name_full: null,\n        companyBussinessId: null,\n        address: null,\n        phones: null,\n        web: null,\n        email: null,\n        isAvailable: false\n      },\n      rules: {\n        required: function (value) {\n          return !!value || 'Requerido.';\n        },\n        counter: function (value) {\n          return value.length <= 20 || 'Max 20 caracteres';\n        },\n        email: function (value) {\n          var pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n          return pattern.test(value) || 'Correo Electrónico incorrecto.';\n        }\n      },\n      dataView: {\n        title: '',\n        targetButton: ''\n      }\n    };\n  },\n  created: function () {\n    // Este es un metodo gancho, y se ejecuta cuando el HTML es creado\n    if (this.$router.currentRoute.name.includes(\"create\")) {\n      this.dataView.title = \"Crear empresa\";\n      this.dataView.targetButton = \"Crear\";\n    } else if (this.$router.currentRoute.name.includes(\"edit\")) {\n      this.dataView.title = \"Editar empresa\";\n      this.dataView.targetButton = \"Actualizar\";\n      var tempCompany = this.$store.state.temporal.element;\n      this.company = {\n        _id: tempCompany._id,\n        name: tempCompany.name,\n        name_full: tempCompany.name_full,\n        companyBussinessId: tempCompany.companyBussinessId,\n        address: tempCompany.address,\n        phones: tempCompany.phones,\n        web: tempCompany.web,\n        email: tempCompany.email,\n        isAvailable: tempCompany.isAvailable\n      };\n    }\n  },\n  methods: {\n    saveCompany: function () {\n      var _this = this;\n\n      this.$loader.activate('Guardando empresa...');\n      Meteor.call('company.save', this.company, function (error, response) {\n        _this.$loader.deactivate();\n\n        if (error) {\n          _this.$alert.showAlertSimple('error', error.reason);\n        } else {\n          _this.$alert.showAlertSimple('success', response.message);\n\n          _this.$router.push({\n            name: 'home.companies'\n          });\n        }\n      });\n    }\n  }\n});\n})();","map":{"version":3,"sources":["imports/ui/views/Companies/SaveCompany.vue"],"names":["module","exportDefault","name","data","company","_id","name_full","companyBussinessId","address","phones","web","email","isAvailable","rules","required","value","counter","length","pattern","test","dataView","title","targetButton","created","$router","currentRoute","includes","tempCompany","$store","state","temporal","element","methods","saveCompany","$loader","activate","Meteor","call","error","response","deactivate","$alert","showAlertSimple","reason","message","push"],"mappings":"qBAgEA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,cAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AACA,QAAA,GAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,IAFA;AAGA,QAAA,SAAA,EAAA,IAHA;AAIA,QAAA,kBAAA,EAAA,IAJA;AAKA,QAAA,OAAA,EAAA,IALA;AAMA,QAAA,MAAA,EAAA,IANA;AAOA,QAAA,GAAA,EAAA,IAPA;AAQA,QAAA,KAAA,EAAA,IARA;AASA,QAAA,WAAA,EAAA;AATA,OADA;AAYA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,UAAA,KAAA;AAAA,iBAAA,CAAA,CAAA,KAAA,IAAA,YAAA;AAAA,SADA;AAEA,QAAA,OAAA,EAAA,UAAA,KAAA;AAAA,iBAAA,KAAA,CAAA,MAAA,IAAA,EAAA,IAAA,mBAAA;AAAA,SAFA;AAGA,QAAA,KAAA,EAAA,UAAA,KAAA,EAAA;AACA,cAAA,OAAA,GAAA,sJAAA;AACA,iBAAA,OAAA,CAAA,IAAA,CAAA,KAAA,KAAA,gCAAA;AACA;AANA,OAZA;AAoBA,MAAA,QAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,YAAA,EAAA;AAFA;AApBA,KAAA;AAyBA,GA5BA;AA6BA,EAAA,OA7BA,cA6BA;AAAA;AACA,QAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,CAAA,QAAA,CAAA,QAAA,CAAA,EAAA;AACA,WAAA,QAAA,CAAA,KAAA,GAAA,eAAA;AACA,WAAA,QAAA,CAAA,YAAA,GAAA,OAAA;AACA,KAHA,MAGA,IAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,CAAA,QAAA,CAAA,MAAA,CAAA,EAAA;AACA,WAAA,QAAA,CAAA,KAAA,GAAA,gBAAA;AACA,WAAA,QAAA,CAAA,YAAA,GAAA,YAAA;AACA,UAAA,WAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,OAAA;AACA,WAAA,OAAA,GAAA;AACA,QAAA,GAAA,EAAA,WAAA,CAAA,GADA;AAEA,QAAA,IAAA,EAAA,WAAA,CAAA,IAFA;AAGA,QAAA,SAAA,EAAA,WAAA,CAAA,SAHA;AAIA,QAAA,kBAAA,EAAA,WAAA,CAAA,kBAJA;AAKA,QAAA,OAAA,EAAA,WAAA,CAAA,OALA;AAMA,QAAA,MAAA,EAAA,WAAA,CAAA,MANA;AAOA,QAAA,GAAA,EAAA,WAAA,CAAA,GAPA;AAQA,QAAA,KAAA,EAAA,WAAA,CAAA,KARA;AASA,QAAA,WAAA,EAAA,WAAA,CAAA;AATA,OAAA;AAWA;AACA,GAjDA;AAkDA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,cACA;AAAA;;AACA,WAAA,OAAA,CAAA,QAAA,CAAA,sBAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,cAAA,EAAA,KAAA,OAAA,EAAA,UAAA,KAAA,EAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,UAAA;;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,eAAA,CAAA,OAAA,EAAA,KAAA,CAAA,MAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,eAAA,CAAA,SAAA,EAAA,QAAA,CAAA,OAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA,OARA;AAUA;AAbA;AAlDA","sourcesContent":["<template>\n  <v-container>\n    <v-row>\n      <v-col>\n        <div class=\"headline\">{{dataView.title}}</div>\n      </v-col>\n      <v-col cols=\"2\">\n        <v-btn block type=\"submit\" form=\"saveCompany\" color=\"primary\" v-text=\"dataView.targetButton\">\n        </v-btn>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col>\n        <v-card>\n          <v-card-text>\n            <v-form @submit.prevent=\"saveCompany\" id=\"saveCompany\" autocomplete=\"off\">\n              <v-row>\n                <v-col xs=\"12\" sm=\"12\" md=\"8\">\n        \n                  <v-text-field\n                        v-model=\"company.name\" id=\"inputName\" name=\"name\"\n                        :rules=\"[rules.required, rules.counter]\"\n                        label=\"Nombre\"\n                        counter\n                        maxlength=\"20\"\n                  ></v-text-field>\n                  <v-text-field v-model=\"company.name_full\" id=\"inputNameFull\" name=\"name_full\" label=\"Nombre completo\">\n                  </v-text-field>\n                    <v-text-field v-model=\"company.companyBussinessId\" id=\"inputcompanyBussinessId\" name=\"companyBussinessId\" label=\"RFC\">\n                  </v-text-field>\n                  <v-text-field v-model=\"company.address\" id=\"inputaddress\" name=\"address\" label=\"Direccion\">\n                  </v-text-field>\n                  <v-text-field v-model=\"company.phones\" id=\"inputphones\" name=\"phones\" label=\"Telefonos\">\n                  </v-text-field>\n                  <v-text-field v-model=\"company.web\" id=\"inputweb\" name=\"web\" label=\"Web\">\n                  </v-text-field>\n                  </v-text-field>\n                  <v-text-field\n                    v-model=\"company.email\" id=\"inputemail\" type=\"email\" name=\"email\"\n                    :rules=\"[rules.required, rules.email]\"\n                    label=\"Correo Electrónico\"\n                  ></v-text-field>\n\n                   <td>\n                <v-switch\n                    v-model=\"company.isAvailable\"\n                    label=\"¿Habilitar empresa?\"\n                    color=\"indigo\"\n                    hide-details\n                ></v-switch>\n              </td>\n              \n                </v-col>\n              </v-row>\n            </v-form>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n\nexport default {\n  name: \"SaveCompany\",\n  data() {\n    return {\n      company: {\n        _id: null,\n        name: null,\n        name_full: null,\n        companyBussinessId: null,\n        address: null,\n        phones: null,\n        web: null,\n        email: null,\n        isAvailable: false\n      },\n      rules: {\n          required: value => !!value || 'Requerido.',\n          counter: value => value.length <= 20 || 'Max 20 caracteres',\n          email: value => {\n            const pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n            return pattern.test(value) || 'Correo Electrónico incorrecto.'\n          }\n      },\n      dataView: {\n        title: '',\n        targetButton: ''\n      }\n    }\n  },\n  created(){  // Este es un metodo gancho, y se ejecuta cuando el HTML es creado\n    if(this.$router.currentRoute.name.includes(\"create\")){\n      this.dataView.title=\"Crear empresa\";\n      this.dataView.targetButton=\"Crear\";\n    }else if(this.$router.currentRoute.name.includes(\"edit\")){\n      this.dataView.title=\"Editar empresa\";\n      this.dataView.targetButton=\"Actualizar\";\n      const tempCompany=this.$store.state.temporal.element;\n      this.company= {\n        _id: tempCompany._id,\n        name: tempCompany.name,\n        name_full: tempCompany.name_full,\n        companyBussinessId: tempCompany.companyBussinessId,\n        address: tempCompany.address,\n        phones: tempCompany.phones,\n        web: tempCompany.web,\n        email: tempCompany.email,\n        isAvailable: tempCompany.isAvailable\n      };\n    }\n  },\n  methods: {\n    saveCompany() {\n      this.$loader.activate('Guardando empresa...');\n      Meteor.call('company.save',this.company,(error,response) => {\n        this.$loader.deactivate();\n        if(error){\n              this.$alert.showAlertSimple('error',error.reason);\n        }else{\n          this.$alert.showAlertSimple('success',response.message);\n          this.$router.push({name: 'home.companies'});\n        }\n      });\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"file":"imports/ui/views/Companies/SaveCompany.vue"},"styles":[{"css":"\n\n","map":{"version":3,"sources":[],"names":[],"mappings":"","file":"SaveCompany.vue"}}],"template":"\n<v-container>\n  <v-row>\n    <v-col>\n      <div class=\"headline\">{{dataView.title}}</div>\n    </v-col>\n    <v-col cols=\"2\">\n      <v-btn block type=\"submit\" form=\"saveCompany\" color=\"primary\" v-text=\"dataView.targetButton\">\n      </v-btn>\n    </v-col>\n  </v-row>\n  <v-row>\n    <v-col>\n      <v-card>\n        <v-card-text>\n          <v-form @submit.prevent=\"saveCompany\" id=\"saveCompany\" autocomplete=\"off\">\n            <v-row>\n              <v-col xs=\"12\" sm=\"12\" md=\"8\">\n      \n                <v-text-field\n                      v-model=\"company.name\" id=\"inputName\" name=\"name\"\n                      :rules=\"[rules.required, rules.counter]\"\n                      label=\"Nombre\"\n                      counter\n                      maxlength=\"20\"\n                ></v-text-field>\n                <v-text-field v-model=\"company.name_full\" id=\"inputNameFull\" name=\"name_full\" label=\"Nombre completo\">\n                </v-text-field>\n                  <v-text-field v-model=\"company.companyBussinessId\" id=\"inputcompanyBussinessId\" name=\"companyBussinessId\" label=\"RFC\">\n                </v-text-field>\n                <v-text-field v-model=\"company.address\" id=\"inputaddress\" name=\"address\" label=\"Direccion\">\n                </v-text-field>\n                <v-text-field v-model=\"company.phones\" id=\"inputphones\" name=\"phones\" label=\"Telefonos\">\n                </v-text-field>\n                <v-text-field v-model=\"company.web\" id=\"inputweb\" name=\"web\" label=\"Web\">\n                </v-text-field>\n                </v-text-field>\n                <v-text-field\n                  v-model=\"company.email\" id=\"inputemail\" type=\"email\" name=\"email\"\n                  :rules=\"[rules.required, rules.email]\"\n                  label=\"Correo Electrónico\"\n                ></v-text-field>\n\n                 <td>\n              <v-switch\n                  v-model=\"company.isAvailable\"\n                  label=\"¿Habilitar empresa?\"\n                  color=\"indigo\"\n                  hide-details\n              ></v-switch>\n            </td>\n            \n              </v-col>\n            </v-row>\n          </v-form>\n        </v-card-text>\n      </v-card>\n    </v-col>\n  </v-row>\n</v-container>\n","hash":"data-v-2230e2fc"}