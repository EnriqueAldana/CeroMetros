{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){var _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar ModalRemove;\nmodule.link(\"../../components/Utilities/Modals/ModalRemove\", {\n  \"default\": function (v) {\n    ModalRemove = v;\n  }\n}, 0);\nvar WorkstationRepository;\nmodule.link(\"../../../api/Workstations/WorkStation\", {\n  WorkstationRepository: function (v) {\n    WorkstationRepository = v;\n  }\n}, 1);\nvar mapMutations;\nmodule.link(\"vuex\", {\n  mapMutations: function (v) {\n    mapMutations = v;\n  }\n}, 2);\nmodule.exportDefault({\n  name: 'ListWorkStations',\n  components: {\n    ModalRemove: ModalRemove\n  },\n  data: function () {\n    return {\n      headersFilter: {\n        name: '',\n        name_full: '',\n        location: '',\n        productionline: ''\n      },\n      workstationTemp: {\n        preposition: 'la',\n        typeElement: ' estacion de trabajo ',\n        mainNameElement: '',\n        _id: null,\n        element: {}\n      }\n    };\n  },\n  methods: _objectSpread({}, mapMutations('temporal', ['setElement']), {\n    openEditWorkStation: function (workstation) {\n      //Guardar en Vuex para recuperar en la vistad de company.save\n      this.setElement(workstation);\n      this.$router.push({\n        name: 'home.workstation.edit'\n      });\n    },\n    openRemoveModal: function (workstation) {\n      this.workstationTemp.element = workstation;\n      this.workstationTemp._id = workstation._id;\n      this.workstationTemp.mainNameElement = workstation.name;\n      this.$refs.refModalRemove.dialog = true;\n    },\n    deleteWorkStation: function (idWorkstation) {\n      var _this = this;\n\n      this.$loader.activate(\"Eliminando estacion de trabajo....\");\n      Meteor.call('workstation.delete', {\n        idWorkstation: idWorkstation\n      }, function (error, response) {\n        _this.$loader.deactivate();\n\n        if (error) {\n          _this.$alert.showAlertSimple('error', error.reason);\n        } else {\n          _this.$alert.showAlertSimple('success', response.message);\n        }\n      });\n    }\n  }),\n  computed: {\n    headers: function () {\n      var _this2 = this;\n\n      return [{\n        value: 'name',\n        text: 'Nombre',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.name.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'name_full',\n        text: 'Nombre completo',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.name_full.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'location',\n        text: 'Ubicacion',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.location.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'productionline.name',\n        text: 'Linea de produccion',\n        sortable: true,\n        filter: function (value) {\n          return value != null && typeof value === 'string' && value.toString().toLocaleLowerCase().indexOf(_this2.headersFilter.productionline.toLocaleLowerCase()) !== -1;\n        }\n      }, {\n        value: 'action',\n        text: 'Opciones',\n        sortable: false\n      }];\n    }\n  },\n  meteor: {\n    $subscribe: {\n      'workstation.list': []\n    },\n    workstations: function () {\n      return WorkstationRepository.find().fetch();\n    }\n  }\n});\n})();","map":{"version":3,"sources":["imports/ui/views/WorkStations/ListWorkStations.vue"],"names":["_objectSpread","module","link","default","v","ModalRemove","WorkstationRepository","mapMutations","exportDefault","name","components","data","headersFilter","name_full","location","productionline","workstationTemp","preposition","typeElement","mainNameElement","_id","element","methods","openEditWorkStation","workstation","setElement","$router","push","openRemoveModal","$refs","refModalRemove","dialog","deleteWorkStation","idWorkstation","$loader","activate","Meteor","call","error","response","deactivate","$alert","showAlertSimple","reason","message","computed","headers","value","text","sortable","filter","toString","toLocaleLowerCase","indexOf","meteor","$subscribe","workstations","find","fetch"],"mappings":"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","sourcesContent":["<template>\n  <v-container>\n    <v-row justify=\"center\">\n      <v-col xs=\"16\" sm=\"16\" md=\"14\" lg=\"12\" xl=\"9\">\n        <div class=\"d-flex flex-row-reverse mb-5\">\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-btn v-can:create.hide=\"'workstations'\" color=\"success\" v-on=\"on\" fab dark :to=\"{name:'home.workstation.create'}\">\n                <v-icon>add</v-icon>\n              </v-btn>\n            </template>\n            <span>Agregar estacion de trabajo</span>\n          </v-tooltip>\n        </div>\n        <v-data-table :headers=\"headers\" :items=\"workstations\" @dblclick:row=\"(event,{item})=>openEditWorkStation(item)\"\n                      sort-by=\"name\" class=\"elevation-1\">\n          <template v-slot:item.action=\"{item}\">\n            <v-tooltip bottom>\n              <template v-slot:activator=\"{on}\">\n                <v-icon v-can:edit.hide=\"'workstations'\" color=\"info\" v-on=\"on\" small class=\"mr-2\" @click=\"openEditWorkStation(item)\">\n                  edit\n                </v-icon>\n              </template>\n              <span>Editar</span>\n            </v-tooltip>\n            <v-tooltip bottom>\n              <template v-slot:activator=\"{on}\">\n                <v-icon v-can:delete.hide=\"'workstations'\" color=\"error\" v-on=\"on\" small class=\"mr-2\" @click=\"openRemoveModal(item)\">\n                  delete\n                </v-icon>\n              </template>\n              <span>Eliminar</span>\n            </v-tooltip>\n          </template>\n          <template v-slot:body.append=\"{isMobile}\">\n            <tr v-if=\"!isMobile\">\n              <td>\n                <v-text-field v-model=\"headersFilter.name\" type=\"text\"\n                              label=\"Nombre\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.name_full\" type=\"text\"\n                              label=\"Nombre completo\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.location\" type=\"text\"\n                              label=\"Ubicacion\"></v-text-field>\n              </td>\n              <td>\n                <v-text-field v-model=\"headersFilter.productionline\" type=\"text\"\n                              label=\"Linea de produccion\"></v-text-field>\n              </td>\n            </tr>\n          </template>\n        </v-data-table>\n     </v-col>\n    </v-row>\n    <modal-remove ref=\"refModalRemove\" v-bind:modalData=\"workstationTemp\"\n                  @id_element=\"deleteWorkStation\"></modal-remove>\n  </v-container>\n</template>\n\n<script>\nimport ModalRemove from \"../../components/Utilities/Modals/ModalRemove\";\nimport {WorkstationRepository} from \"../../../api/Workstations/WorkStation\";\nimport {mapMutations} from \"vuex\";\nexport default {\n        name: 'ListWorkStations',\n        components: {\n          ModalRemove\n        },\n        data() {\n          return {\n             headersFilter: {\n                  name: '',\n                  name_full: '',\n                  location: '',\n                  productionline: ''\n          },workstationTemp: {\n              preposition: 'la',\n              typeElement: ' estacion de trabajo ',\n              mainNameElement: '',\n              _id: null,\n              element: {}\n            }\n          }\n        },\n        methods: {\n          ...mapMutations('temporal',['setElement']),\n            openEditWorkStation(workstation) {\n              //Guardar en Vuex para recuperar en la vistad de company.save\n              this.setElement(workstation);\n              this.$router.push({name: 'home.workstation.edit'});\n            },\n            openRemoveModal(workstation) {\n              this.workstationTemp.element = workstation;\n              this.workstationTemp._id = workstation._id;\n              this.workstationTemp.mainNameElement = workstation.name;\n              this.$refs.refModalRemove.dialog = true;\n            },\n            deleteWorkStation(idWorkstation) {\n              this.$loader.activate(\"Eliminando estacion de trabajo....\");\n              Meteor.call('workstation.delete',{idWorkstation},(error,response)=>{\n                this.$loader.deactivate();\n                if(error){\n                  this.$alert.showAlertSimple('error',error.reason);\n                }else{\n                  this.$alert.showAlertSimple('success',response.message);\n                }\n              });\n            }\n        },\n        computed: {\n          headers() {\n            return [\n              {\n                value: 'name', text: 'Nombre', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.name.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {\n                value: 'name_full', text: 'Nombre completo', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.name_full.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {\n                value: 'location', text: 'Ubicacion', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.location.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {\n                value: 'productionline.name', text: 'Linea de produccion', sortable: true, filter: value => {\n                  return value != null && typeof value === 'string' &&\n                      value.toString().toLocaleLowerCase()\n                          .indexOf(this.headersFilter.productionline.toLocaleLowerCase()) !== -1;\n                }\n              },\n              {value: 'action', text: 'Opciones', sortable: false}\n            ]\n          }\n        },\n        meteor:{\n            $subscribe: {\n              'workstation.list':[]\n            },\n            workstations(){\n              return WorkstationRepository.find().fetch();\n            }\n        }  \n}\n</script>\n\n<style scoped>\n\n</style>"],"file":"imports/ui/views/WorkStations/ListWorkStations.vue"},"styles":[{"css":"\n\n","map":{"version":3,"sources":[],"names":[],"mappings":"","file":"ListWorkStations.vue"}}],"template":"\n<v-container>\n  <v-row justify=\"center\">\n    <v-col xs=\"16\" sm=\"16\" md=\"14\" lg=\"12\" xl=\"9\">\n      <div class=\"d-flex flex-row-reverse mb-5\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{on}\">\n            <v-btn v-can:create.hide=\"'workstations'\" color=\"success\" v-on=\"on\" fab dark :to=\"{name:'home.workstation.create'}\">\n              <v-icon>add</v-icon>\n            </v-btn>\n          </template>\n          <span>Agregar estacion de trabajo</span>\n        </v-tooltip>\n      </div>\n      <v-data-table :headers=\"headers\" :items=\"workstations\" @dblclick:row=\"(event,{item})=>openEditWorkStation(item)\"\n                    sort-by=\"name\" class=\"elevation-1\">\n        <template v-slot:item.action=\"{item}\">\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-icon v-can:edit.hide=\"'workstations'\" color=\"info\" v-on=\"on\" small class=\"mr-2\" @click=\"openEditWorkStation(item)\">\n                edit\n              </v-icon>\n            </template>\n            <span>Editar</span>\n          </v-tooltip>\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{on}\">\n              <v-icon v-can:delete.hide=\"'workstations'\" color=\"error\" v-on=\"on\" small class=\"mr-2\" @click=\"openRemoveModal(item)\">\n                delete\n              </v-icon>\n            </template>\n            <span>Eliminar</span>\n          </v-tooltip>\n        </template>\n        <template v-slot:body.append=\"{isMobile}\">\n          <tr v-if=\"!isMobile\">\n            <td>\n              <v-text-field v-model=\"headersFilter.name\" type=\"text\"\n                            label=\"Nombre\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.name_full\" type=\"text\"\n                            label=\"Nombre completo\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.location\" type=\"text\"\n                            label=\"Ubicacion\"></v-text-field>\n            </td>\n            <td>\n              <v-text-field v-model=\"headersFilter.productionline\" type=\"text\"\n                            label=\"Linea de produccion\"></v-text-field>\n            </td>\n          </tr>\n        </template>\n      </v-data-table>\n   </v-col>\n  </v-row>\n  <modal-remove ref=\"refModalRemove\" v-bind:modalData=\"workstationTemp\"\n                @id_element=\"deleteWorkStation\"></modal-remove>\n</v-container>\n","hash":"data-v-4fa2d223"}