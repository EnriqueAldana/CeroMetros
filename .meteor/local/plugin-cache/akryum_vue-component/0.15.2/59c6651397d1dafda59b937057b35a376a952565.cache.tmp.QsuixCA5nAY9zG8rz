{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){var _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar mapMutations;\nmodule.link(\"vuex\", {\n  mapMutations: function (v) {\n    mapMutations = v;\n  }\n}, 0);\nmodule.exportDefault({\n  name: \"UserLogged\",\n  data: function () {\n    return {\n      user: {\n        username: null\n      },\n      onLogoutHook: null\n    };\n  },\n  created: function () {\n    this.setSession();\n  },\n  mounted: function () {\n    var _this = this;\n\n    // Escuchador para cuando se guarden datos del usuario- GeneralData\n    this.$root.$on('setUserLogged', function () {\n      _this.setSession();\n    });\n    this.onLogoutHook = Accounts.onLogout(function () {\n      _this.closeFrontSession();\n    });\n  },\n  methods: _objectSpread({}, mapMutations('auth', ['logout']), {\n    closeSession: function () {\n      this.onLogoutHook.stop();\n      Meteor.logout(); // Aqui se limpia la sesion del lado del servidor\n\n      this.logout(); // Aqui se limpia la sesion del lado del cliente\n\n      this.$router.push({\n        name: 'login'\n      });\n    },\n    closeFrontSession: function () {\n      this.onLogoutHook.stop();\n      this.logout(); // Aqui se limpia la sesion del lado del cliente\n\n      this.$router.push({\n        name: 'login'\n      });\n    },\n    setSession: function () {\n      if (Meteor.userId() !== null) {\n        this.user = this.$store.state.auth.user;\n      } else {\n        this.closeSession();\n      }\n    }\n  })\n});\n})();","map":{"version":3,"sources":["imports/ui/components/UserLogged/UserLogged.vue"],"names":["_objectSpread","module","link","default","v","mapMutations","exportDefault","name","data","user","username","onLogoutHook","created","setSession","mounted","$root","$on","Accounts","onLogout","closeFrontSession","methods","closeSession","stop","Meteor","logout","$router","push","userId","$store","state","auth"],"mappings":";;;;;;;;;;;;;qBAiBA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,cAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA;AADA,OADA;AAIA,MAAA,YAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAVA,cAUA;AACA,SAAA,UAAA;AACA,GAZA;AAaA,EAAA,OAbA,cAaA;AAAA;;AACA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,eAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,UAAA;AACA,KAFA;AAGA,SAAA,YAAA,GAAA,QAAA,CAAA,QAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,iBAAA;AACA,KAFA,CAAA;AAGA,GArBA;AAsBA,EAAA,OAAA,oBAEA,YAAA,CAAA,MAAA,EAAA,CAAA,QAAA,CAAA,CAFA;AAGA,IAAA,YAHA,cAGA;AACA,WAAA,YAAA,CAAA,IAAA;AACA,MAAA,MAAA,CAAA,MAAA,GAFA,CAEA;;AACA,WAAA,MAAA,GAHA,CAGA;;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KARA;AASA,IAAA,iBATA,cASA;AACA,WAAA,YAAA,CAAA,IAAA;AACA,WAAA,MAAA,GAFA,CAEA;;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAbA;AAcA,IAAA,UAdA,cAcA;AACA,UAAA,MAAA,CAAA,MAAA,OAAA,IAAA,EAAA;AACA,aAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,YAAA;AACA;AACA;AApBA;AAtBA","sourcesContent":["<template>\n  <v-menu offset-y>\n    <template v-slot:activator=\"{on}\">\n      <v-btn color=\"default\" dark text v-on=\"on\" class=\"mr-5\">\n        {{ user.username }}\n        <v-icon>keyboard_arrow_down</v-icon>\n      </v-btn>\n    </template>\n    <v-list>\n      <v-list-item  :to=\"{name:'home.account'}\">Cuenta</v-list-item>\n      <v-list-item  @click=\"closeSession\">Cerrar sesión</v-list-item>\n    </v-list>\n  </v-menu>\n</template>\n\n<script>\nimport {mapMutations} from 'vuex';\nexport default {\n  name: \"UserLogged\",\n  data(){\n    return {\n      user: {\n        username: null\n      },\n      onLogoutHook: null\n    }\n  },\n  created(){\n    this.setSession();\n  },\n  mounted(){\n    // Escuchador para cuando se guarden datos del usuario- GeneralData\n    this.$root.$on('setUserLogged',() => {\n      this.setSession();\n    });\n    this.onLogoutHook=Accounts.onLogout(()=>{\n      this.closeFrontSession();\n    });\n  },\n  methods: {\n\n    ...mapMutations('auth',['logout']),\n    closeSession(){\n      this.onLogoutHook.stop();\n      Meteor.logout();  // Aqui se limpia la sesion del lado del servidor\n      this.logout();    // Aqui se limpia la sesion del lado del cliente\n      this.$router.push({name: 'login'})\n    },\n    closeFrontSession(){\n      this.onLogoutHook.stop();\n      this.logout();    // Aqui se limpia la sesion del lado del cliente\n      this.$router.push({name: 'login'})\n    },\n    setSession(){\n      if(Meteor.userId()!== null){\n        this.user= this.$store.state.auth.user;\n      }else{\n        this.closeSession();\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"file":"imports/ui/components/UserLogged/UserLogged.vue"},"styles":[{"css":"\n\n","map":{"version":3,"sources":[],"names":[],"mappings":"","file":"UserLogged.vue"}}],"template":"\n<v-menu offset-y>\n  <template v-slot:activator=\"{on}\">\n    <v-btn color=\"default\" dark text v-on=\"on\" class=\"mr-5\">\n      {{ user.username }}\n      <v-icon>keyboard_arrow_down</v-icon>\n    </v-btn>\n  </template>\n  <v-list>\n    <v-list-item  :to=\"{name:'home.account'}\">Cuenta</v-list-item>\n    <v-list-item  @click=\"closeSession\">Cerrar sesión</v-list-item>\n  </v-list>\n</v-menu>\n","hash":"data-v-75ee5f8f"}